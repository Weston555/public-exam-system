# 公考进阶系统 - 下一步开发任务清单

## 🎯 总体目标
实现学员端核心闭环：**注册→目标设置→基线诊断→学习路径→针对性练习**，形成可演示的MVP。

## 📋 任务优先级排序

### 🔥 P0 紧急任务 (1-2天完成)
#### 1. 认证系统数据库集成
**目标**: 让登录/注册真正连接数据库，支持用户管理
**涉及文件**:
- `server/app/api/v1/endpoints/auth.py`: 实现数据库操作
- `server/app/api/v1/endpoints/users.py`: 用户CRUD API
- `web/src/stores/auth.js`: 替换mock为真实API调用

**验收标准**:
- ✅ 可注册新用户 (学员/管理员)
- ✅ 可登录验证身份
- ✅ JWT token正确生成和验证

#### 2. 基线诊断功能
**目标**: 实现完整的诊断流程 (生成试卷→答题→计算掌握度)
**涉及文件**:
- `server/app/models/` 新增: `GoalProfile`, `DiagnosticSession`
- `server/app/services/` 新增: `diagnostic_service.py`
- `server/app/api/v1/endpoints/` 新增: `diagnostic.py`
- `web/src/views/` 新增: `diagnostic/` 目录和页面

**验收标准**:
- ✅ 学员可设置学习目标 (考试日期/目标分数)
- ✅ 系统生成覆盖所有知识点的诊断试卷
- ✅ 答题后自动计算各知识点掌握度
- ✅ 生成能力雷达图和薄弱点分析

### 🚀 P1 核心功能 (3-5天完成)
#### 3. 学习路径生成引擎
**目标**: 实现规则驱动的学习路径推荐
**涉及文件**:
- `server/app/models/` 新增: `LearningPath`
- `server/app/services/` 新增: `path_service.py`
- `server/app/api/v1/endpoints/plans.py`: 实现路径生成API
- `web/src/views/plan/index.vue`: 路径可视化页面

**验收标准**:
- ✅ 基于诊断结果生成7-14天学习计划
- ✅ 路径包含可解释的推荐理由 (JSON格式)
- ✅ 支持按知识点优先级和难度递进
- ✅ 前端用ECharts展示路径时间轴

#### 4. 针对性练习功能
**目标**: 实现按知识点和难度的智能出题
**涉及文件**:
- `server/app/models/` 新增: `PracticeRecord`
- `server/app/services/` 新增: `practice_service.py`
- `server/app/api/v1/endpoints/questions.py`: 实现练习API
- `web/src/views/` 新增: `practice/` 专项练习页面

**验收标准**:
- ✅ 按知识点ID获取题目列表
- ✅ 支持难度筛选和题目数量控制
- ✅ 记录练习结果 (正确率/用时)
- ✅ 练习历史和统计

### 💪 P2 扩展功能 (1周+完成)
#### 5. 模拟测验模块 (借鉴zxks)
**目标**: 实现组卷和考试功能
**涉及文件**:
- `server/app/services/` 新增: `exam_service.py` (组卷逻辑)
- `server/app/api/v1/endpoints/exams.py`: 完善考试API
- `web/src/views/` 新增: `mock/` 模拟考试页面

**验收标准**:
- ✅ 自动组卷 (按题型/难度/知识点分布)
- ✅ 支持考试计时和自动提交
- ✅ 实时判分和解析
- ✅ 成绩统计和趋势分析

#### 6. 错题回流系统
**目标**: 智能错题收集和复习提醒
**涉及文件**:
- `server/app/models/` 新增: `WrongBook`
- `server/app/services/` 新增: `wrong_book_service.py`
- `web/src/views/` 新增: `wrong-book/` 错题本页面

**验收标准**:
- ✅ 自动收集错题
- ✅ 基于遗忘曲线计算复习时间
- ✅ 到期提醒和专项复习
- ✅ 错题统计和薄弱点分析

### 🛠️ P3 系统完善 (视时间安排)
#### 7. 管理员功能
- 知识点树管理 CRUD
- 题库批量导入/导出
- 用户权限管理
- 数据质量监控

#### 8. 数据可视化
- 学习进度仪表板
- 掌握度雷达图
- 成绩趋势图表
- 学习效果分析

#### 9. 系统优化
- 性能优化和缓存
- 错误处理和日志
- API文档完善
- 单元测试覆盖

## 🔄 开发节奏建议

### 第一阶段 (本周): P0任务
**目标**: 实现最小可用闭环
- Day 1-2: 认证系统 + 数据库集成
- Day 3-4: 基线诊断功能
- Day 5: 联调测试

### 第二阶段 (下周): P1任务
**目标**: 核心学习功能
- Day 1-2: 学习路径生成
- Day 3-4: 针对性练习
- Day 5: 闭环测试

### 第三阶段 (第三周): P2任务
**目标**: 完整学习体验
- 模拟测验 + 错题回流
- 数据可视化完善
- 系统稳定性优化

## ✅ 验收标准

### MVP标准 (第一阶段结束)
- [ ] 用户可注册/登录
- [ ] 可设置学习目标
- [ ] 可完成基线诊断
- [ ] 系统生成学习路径
- [ ] 可进行专项练习
- [ ] 基础数据持久化

### 完整产品标准 (第三阶段结束)
- [ ] 完整的学习闭环体验
- [ ] 管理员功能可用
- [ ] 数据可视化完善
- [ ] 系统性能稳定
- [ ] 文档和测试完备

## 🔧 技术债务提醒

- 所有API需要添加请求验证和错误处理
- 前端需要统一的状态管理和错误处理
- 数据库查询需要优化 (分页/索引)
- 敏感数据需要加密处理
- API需要添加速率限制

## 📈 成功指标

- **功能完整性**: 核心闭环功能全部实现
- **用户体验**: 界面友好，操作流畅
- **系统稳定性**: 无严重bug，错误处理完善
- **代码质量**: 结构清晰，注释完整
- **性能表现**: 响应时间 < 1秒，资源占用合理
